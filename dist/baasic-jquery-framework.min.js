!function(e){function t(t){return 0==t.indexOf(e.get_apiUrl())}function n(){$.ajaxPrefilter(function(e){t(e.url)&&(s(e),e.crossDomain&&(e.xhrFields={withCredentials:!0}))})}function r(){var e=$('<div style="display:none"><iframe src="'+apiUrl+'proxy/jquery"></iframe></div>');e.find("iframe").on("load",function(){var e=new Object,n=0,r=this;$(window).on("message",function(t){var n=t.originalEvent;if(n.source==r.contentWindow){var s=JSON.parse(n.data),a=e[s.requestId];a&&(delete e[s.requestId],a.completeCallback(s.status,s.statusText,{text:s.responseText},s.responseHeaders))}}),$.ajaxTransport("+*",function(a,i){return t(a.url)?(s(i),{requestId:n++,send:function(t,n){e[this.requestId]={completeCallback:n};var s=JSON.stringify({requestId:this.requestId,options:i});r.contentWindow.postMessage(s,apiUrl)},abort:function(){delete e[this.requestId]}}):void 0})}),$("body").append(e)}function s(t){var n=e.get_accessToken();if(null!=n){var r=t.headers||(t.headers={});r[a]=n.token_type+" "+n.access_token}}var a="Authorization";$.support.cors&&-1==navigator.userAgent.indexOf("MSIE")||!window.postMessage?n():r()}(MonoSoftware.Baasic.Application);