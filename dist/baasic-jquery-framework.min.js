!function(e){function t(t){return 0===t.indexOf(e.getApiUrl())}function n(t){var n=e.getAccessToken();if(null!==n){(t.headers||(t.headers={}))[r]=n.token_type+" "+n.access_token}}var r="Authorization";$.support.cors&&navigator.userAgent.indexOf("MSIE")===-1||!window.postMessage?function(){$.ajaxPrefilter(function(e){t(e.url)&&(n(e),e.crossDomain&&(e.xhrFields={withCredentials:!0}))})}():function(){var r=e.getApiUrl(),s=$('<div style="display:none"><iframe src="'+r+'proxy/jquery"></iframe></div>');s.find("iframe").on("load",function(){var e={},s=0,i=this;$(window).on("message",function(t){var n=t.originalEvent;if(n.source===i.contentWindow){var r=JSON.parse(n.data),s=e[r.requestId];s&&(delete e[r.requestId],s.completeCallback(r.status,r.statusText,{text:r.responseText},r.responseHeaders))}}),$.ajaxTransport("+*",function(o,a){if(t(o.url))return n(a),{requestId:s++,send:function(t,n){e[this.requestId]={completeCallback:n};var s=JSON.stringify({requestId:this.requestId,options:a});i.contentWindow.postMessage(s,r)},abort:function(){delete e[this.requestId]}}})}),$("body").append(s)}()}(MonoSoftware.Baasic.Application);